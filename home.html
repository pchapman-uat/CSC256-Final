<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
    <link rel="stylesheet" href="./style/home.css">
</head>
<body>
    <header>
        <h1>Foobar2000 Now Playing</h1>
        <h2>CSC256 Final</h2>
        <h3>Preston Chapman | UAT</h3>
    </header>
    <nav>
        <a href="NP.html">Now Playing Page</a>
        <div class="toc">
            <a href="#about">About</a>
            <a>Set Up</a>
            <div class="toc_setup">
                <a href="#foobar2000">Foobar2000</a>
                <a href="#obs">OBS</a>
                <a href="#components">Componets</a>
                <a href="#npSimple">Now Playing Simple</a>
            </div>
        </div>
    </nav>
    <main>
        <section id="about">
            <h2>About</h2>
            <p>This project is to allow for users to be able to display the current song that is playing in <a target="_blank" href="https://www.foobar2000.org/">Foobar2000</a>.</p>
            <p>The following information will be displayed and will be updated every second</p>
            <ul>
                <li>Song Title</li>
                <li>Album</li>
                <li>Artist</li>
                <li>Elapsed Time</li>
                <li>Remaing Time</li>
                <li>Album Art*</li>
            </ul>
            <!-- TODO: Update information when exe is working -->
            * Album art requires node.exe (WIP)
        </section>
        <section id="setup">
            <h2>Set Up</h2>
            <div>
                <div id="foobar2000">
                    <h3>Foobar2000</h3>
                    <p>Head to Foobar2000's website here: <a target="_blank" href="https://www.foobar2000.org/download">https://www.foobar2000.org/download</a></p>
                    <p>Download the newist <b>x32</b> version</p>
                    <p>Install the application as portable</p>
                    <!-- TODO: Add alt text for image -->
                    <img src="./assets/setup/foobar_portable.png">
                    <p>Installation does not matter</p>
                    <p>Full installation for components are recomended, but none needed for this project</p>
                    <!-- TODO: Add alt text for image -->
                    <img src="./assets/setup/default_components.png">
                    <p>Once Installed run Foobar2000</p>
                </div>
               <div class="seperator"></div>
                <div id="obs">
                    <h3>OBS Setup</h3>
                    <!-- TODO: Add screenshots of the release -->
                        <p>Select the newest release on <a href="https://github.com/pchapman-uat/CSC256-Final/releases">GitHub</a></p>
                        <p>Download one of the following versions</p>
                        <ol>
                            <li>Node JS Server - Album art and common color extracter</li>
                            <li>Foobar Previewer - HTML document to parse JSO</li>
                            <li><b>Foobar Now Playing Simple Component - REQUIRED</b></li>
                            <li>Full Project - Includes node JS server, Component, and HTML document</li>
                        </ol>
                        <p>Download <a href="https://obsproject.com/download">OBS</a> (Any Version) if not already installed</p>
                        <p>Install with any settings as needed</p>
                        <p>Navigate to scene of choice</p>
                        <p>Create a new Browser Source</p>
                        <!-- TODO: Add Image -->
                        <img>
                        <p>Check Local File</p>
                        <p>Browse for local file, and select "NP.html" in this folder</p>
                        <p>Set hight and width</p>
                        <!-- TODO: Set recomended height -->
                        <ul>
                            <li>Height: >Y</li>
                            <li>Width: >X</li>
                        </ul>
                        <p>Keep all setings as default unless needed otherwise</p>
                        <p>Press OK</p>
                        <!-- Add end Browser Source Screenshot -->
                        <im></im>
                </div>
            </div>
            <div class="seperator"></div>
            <div id="components">
                <h3>Components</h3>
                <p>Download the component in this project <a href="./foo_component/foo_np_simple.dll">here</a>.</p>
                <p>WARNING: This is a raw .dll file, meaning windows will flag this, at the moment this component has been archived, when a new version is posted this will be updated.</p>
                <p>Navigate to your Foobar2000 installation folder</p>
                <img src="./assets/component/foobar_folder.png">
                <p>Navigate to the components folder, and move the "foo_np_simple.dll" to this folder</p>
                <img src="./assets/component/components_folder.png">
            </div>
            <div class="seperator"></div>
            <div id="npSimple">
                <h3>Now Playing Simple</h3>
                <p>Open the Foobar2000 application</p>
                <p>Go to File, then Preference (ctrl+p)</p>
                <p>Go to Tools, Now Playing Simple</p>
                <p>Check Save to File</p>
                <p>Set the file path to the root of the project (same location as the HTML documents) with the file name of "foo_now_playing.json"</p>
                <p>Set the following information</p>
                <ul>
                    <li>Encoding: UTF-8 with Header</li>
                    <li>Log mode: false</li>
                    <li>Delay for (ms): false</li>
                    <li>Copy to clipboard: false</li>
                </ul>
                <p>Set the formated string to the following:</p>
                <pre>
                    <code id="jsonContainer">
{
    "nowplaying": {
        "playing": $replace(%isplaying%,'?','0'),
        "paused": $replace(%ispaused%,'?','0'),
        "albumartist": "$replace(%album artist%,'"','\"','\','\\')",
        "album": "$replace(%album%,'"','\"','\','\\')",
        "artist": "$replace(%artist%,'"','\"','\','\\')",
        "title": "$replace(%title%,'"','\"','\','\\')",
        "tracknumber": $add($replace(%track number%,'?','0'),0),
        "length": $replace(%length_seconds%,'?','0'),
        "elapsed": $replace(%playback_time_seconds%,'?','0'),
        "path": "$replace(%path%,'"','\"','\','\\')"
    }
}
                    </code>
                </pre>
                <p>Set the on exit value to "not running"</p>
            </div>
        </section>
    </main>
</body>
<script>
    hljs.highlightBlock(document.getElementById('jsonContainer'));
</script>
</html>